<!DOCTYPE html>
<html>
    <head>
        <meta charset='utf-8' />
        <meta http-equiv="X-UA-Compatible" content="chrome=1" />
        <meta name="description" content="smallcase:calendar" />
        <title>brix_api</title>
        
        <!-- brix资源文件 -->
        <script type="text/javascript" src="http://a.tbcdn.cn/s/kissy/1.3.0/kissy-min.js"></script>
        <script src="http://a.tbcdn.cn/apps/e/brix/2.0/brix-min.js" bx-config="{autoConfig:true,componentsPath:'./',importsPath:'./'}"></script>
        <link rel="stylesheet" href="http://a.tbcdn.cn/apps/e/brix/2.0/brix-min.css">

        <!-- 组件依赖样式 -->
       
        <!-- doc.css文档自用css -->
        <link rel="stylesheet" href="../../css/demo.css" type="text/css">
    </head>
    <body class="fbody">
        <div id="J_container" class="container">
            <div class="clearfix">
                <div id="dafendaxingxing" bx-config="{split:1,maxValue:5,length:5}" style="float:left" bx-name="starrating" class="starrating">
                </div>
                <div id="dafentip" style="color:#999;padding-left:20px;float:left">
                    点击星星为商品打分
                </div>
            </div>
            <br>
            <br>
            <div class="clearfix">
                <div style="float:left" class="starrating-static clearfix">
                    <div class="starrating-static-on" style="width:50%;"></div>
                </div>
                <div style="color:#999;padding-left:20px;float:left">
                    推荐
                </div>
            </div>
            <br>
            <br>
            <div class="clearfix">
                <div  style="float:left;margin-top:14px;" class="starrating-static">
                    <div class="starrating-static-on" style="width:78%;"></div>
                </div>
                <div style="padding-left:20px;float:left">
                    <span style="font-family:tahoma;color:#488fcd;font-size:28px;">3.9</span><span style="padding-left:10px;color:#999;">(满分5分)</span>
                </div>
            </div>
            <br>
            <br>
            <div class="clearfix">
                <div style="float:left;margin-top:3px" class="starrating-static-s">
                    <div class="starrating-static-s-on" style="width:50%;"></div>
                </div>
                <div style="font-family:tahoma;color:#999;padding-left:10px;float:left">
                    3.9
                </div>
            </div>
            <br>
            <br>
            <div class="clearfix">
                <div style="float:left;margin-top:3px" class="starrating-static-s">
                    <div class="starrating-static-s-on" style="width:50%;"></div>
                </div>
                <div style="color:#999;padding-left:10px;float:left">
                    (共320个点评)
                </div>
            </div>
            <br>
         </div>
        <script>
            KISSY.ready(function(S) {
                KISSY.use("brix/core/pagelet,brix/gallery/starrating/index.css", function(S, Pagelet) {
                    var config = {
                        tmpl:'#J_container'
                    }
                    var p = new Pagelet(config);
                    p.addBehavior();
                    p.ready(function(){
                        function setFen(v){
                            var node = S.one('#dafentip'),
                            val = parseInt(v);
                            switch(val){
                                case 1:
                                    node.html('很差');
                                    break;
                                case 2:
                                    node.html('不好');
                                    break;
                                case 3:
                                    node.html('一般');
                                    break;
                                case 4:
                                    node.html('推荐');
                                    break;
                                case 5:
                                    node.html('极佳');
                                    break;
                            }
                        }

                        var dafendaxingxing = p.getBrick('dafendaxingxing'),
                            fen;
                        dafendaxingxing.on('focus',function(ev){
                            setFen(ev.value);
                        });
                        dafendaxingxing.on('blur',function(ev){
                            if(!fen){
                                S.one('#dafentip').html('点击星星为商品打分');
                            }
                            else{
                               setFen(fen);
                            }
                        });
                        dafendaxingxing.on('selected',function(ev){
                            setFen(ev.value);
                            fen = ev.value;
                        });

                    });
                });
            });
        </script>
    </body>
</html>
